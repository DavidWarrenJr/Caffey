<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <title>Cafe & Wifi</title>
    </head>
    <body>
        <!--        NAVBAR        -->
        <section class="header">
            <a href="{{ url_for('home') }}"><h1 class="brand">Caffey</h1></a>

            <form id="filter-form" action="{{ url_for('home') }}">
                <div class="filter-container">
                    <label for="filter">Filter By</label>
                    <select name="filter" id="filter">
                        <option value=""> --</option>

                        {% if selected_filter == "has_sockets": %}
                        <option value="has_sockets" selected>Has Sockets</option>
                        {% else: %}
                        <option value="has_sockets">Has Sockets</option>
                        {% endif %}

                        {% if selected_filter == "has_toilet": %}
                        <option value="has_toilet" selected>Has Toilet</option>
                        {% else: %}
                        <option value="has_toilet">Has Toilet</option>
                        {% endif %}

                        {% if selected_filter == "has_wifi": %}
                        <option value="has_wifi" selected>Has Wifi</option>
                        {% else: %}
                        <option value="has_wifi">Has Wifi</option>
                        {% endif %}

                        {% if selected_filter == "can_take_calls": %}
                        <option value="can_take_calls" selected>Take Calls</option>
                        {% else: %}
                        <option value="can_take_calls">Take Calls</option>
                        {% endif %}
                    </select>
                </div>

                <div class="sort-container">
                    <label for="sort">Sort By</label>
                    <select name="sort" id="sort">
                        <option value="">--</option>

                        {% if sort_by == "name": %}
                        <option value="name" selected>Name</option>
                        {% else: %}
                        <option value="name">Name</option>
                        {% endif %}

                        {% if sort_by == "location": %}
                        <option value="location" selected>Location</option>
                        {% else: %}
                        <option value="location">Location</option>
                        {% endif %}

                        {% if sort_by == "seats": %}
                        <option value="seats" selected>Seats</option>
                        {% else: %}
                        <option value="seats">Seats</option>
                        {% endif %}

                        {% if sort_by == "coffee_price": %}
                        <option value="coffee_price" selected>Coffe Price</option>
                        {% else: %}
                        <option value="coffee_price">Coffe Price</option>
                        {% endif %}
                    </select>
                </div>
                <button type="submit">Apply</button>
            </form>
        </section>
        <!-- /.header -->
        <section class="details">
            {% for cafe in cafes: %}

            <section class="cafe">
                <div class="cafe-container">
                    <div class="img-container">
                        <img src="{{ cafe.img_url }}" alt="">
                    </div>
                    <div class="cafe-info">
                        <h2>{{ cafe.name }}</h2>
                        <h3 class="cafe-info-location">{{ cafe.location }}</h3>
                        <a class="map-button" href="{{ cafe.map_url }}" target="_blank">Map</a>
                        <div class="cafe-features">
                            <div class="feature">
                                <h3>Sockets</h3>
                                <p>
                                    {% if cafe.has_sockets == True: %}
                                    Yes
                                    {% else: %}
                                    No
                                    {% endif %}
                                </p>
                            </div>
                            <div class="feature">
                                <h3>Toilet</h3>
                                <p>
                                    {% if cafe.has_toilet == True: %}
                                    Yes
                                    {% else: %}
                                    No
                                    {% endif %}
                                </p>
                            </div>
                            <div class="feature">
                                <h3>Wifi</h3>
                                <p>
                                    {% if cafe.has_wifi == True: %}
                                    Yes
                                    {% else: %}
                                    No
                                    {% endif %}
                                </p>
                            </div>
                            <div class="feature">
                                <h3>Take Calls</h3>
                                <p>
                                    {% if cafe.can_take_calls == True: %}
                                    Yes
                                    {% else: %}
                                    No
                                    {% endif %}
                                </p>
                            </div>
                            <div class="feature">
                                <h3>Seats</h3>
                                <p>{{ cafe.seats }}</p>
                            </div>
                            <div class="feature">
                                <h3>Coffee Price</h3>
                                <p>{{ cafe.coffee_price }}</p>
                            </div>
                            <!-- /.feature -->
                        </div>
                        <!-- /.cafe-features -->
                    </div>
                    <!-- /.cafe-info -->
                </div>
                <!-- /.cafe-container -->
            </section>
            <!-- /.cafe -->
            {% endfor %}
        </section>


    </body>
</html>